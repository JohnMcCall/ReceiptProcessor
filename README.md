# Receipt Processor
This webservice implements the API described in Fetch's [Receipt Processor Challenge](https://github.com/fetch-rewards/receipt-processor-challenge). The formal API definition can be found [here](https://github.com/fetch-rewards/receipt-processor-challenge/blob/main/api.yml). 

This solution was built using Go and Docker and assumes that you have at least Docker installed on your computer. 

## Running the Application
1. Download the files in this repository
2. Using a terminal window, navigate to the directory containing the downloaded files
3. We'll first need to create a container image. To do so, run the following command in your terminal window:
    - `docker build --tag docker-receipt-processor .`
4. Once the image is created, we can run our container by using the following command:
    - `docker run -d -p 8080:8080 --name receipt-processor docker-receipt-processor`
5. To stop running our container, use the following command:
    - `docker stop receipt-processor`

## Using the Application
While the application is running, it will be listening on port 8080. There are two functions that the application can handle: Process Receipts and Get Points.

### Process Receipts
Assuming you're running this webservice locally, the URL for this POST will be: `http://localhost:8080/receipts/process`. Otherwise, replace localhost with your host. 
This request takes in a JSON receipt object and will return a JSON object containing an ID generated for the given receipt. The specific structure of these JSON objects can be found in the API definition linked above.

### Get Points
Assuming you're running this webservice locally, the URL for this GET will be: `http://localhost:8080/receipts/{id}/points`. Otherwise, replace localhost with your host. 
The {id} in the URL should be replaced by the ID generated by the Process Receipts request. This request will return a JSON object containing the number of points awarded for that receipt.

## Running Unit Tests
Unit tests have been provided that test the receipt validation code as well as the points calculation code. These unit tests can be run by navigating to the containing folder in a terminal window and running the `go test -v` command.
